L.TileLayer.Common = L.TileLayer.extend({
    initialize: function (options) {
        L.TileLayer.prototype.initialize.call(this, this.url, options);
    }
});

(function () {

    L.TileLayer.Mapshakers = L.TileLayer.Common.extend({
        url: 'http://{s}.mapshakers.com:25095/{key}/{style}/{size}/{z}/{x}/{y}',
        options: {
            attribution: '<a target="_blank" href="http://www.mapshakers.com" style="font-size: 1.2em"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="12px" height="12px" viewBox="107.417 565.138 12 12" style="padding-top: 1px"  xml:space="preserve"><style type="text/css"><![CDATA[ .st0{fill:#F2F1EB;} .st1{fill:#333333;}]]></style><g> <path class="st0" d="M118.819,571.052l-0.354-0.613l0,0l-1.603-2.528c-0.224-0.386-0.747-0.688-1.193-0.688h-4.115  c-0.446,0-0.97,0.303-1.193,0.688l-2.277,3.636v-0.001l-0.002,0.005l0,0l0,0l-0.015,0.026c-0.224,0.387-0.224,0.99,0,1.379  l2.063,3.055l0.013,0.018l0.125,0.186c0.168,0.283,0.643,0.503,1.085,0.503h4.114c0.374,0,0.802-0.213,1.063-0.512h0.001l0,0  c0.049-0.056,0.094-0.116,0.13-0.177l0,0l2.158-3.597C119.041,572.045,119.041,571.436,118.819,571.052z"/> <path class="st1" d="M118.022,573.859c-0.193,0-0.384-0.085-0.539-0.233l-1.34-1.302c-0.18-0.175-0.271-0.399-0.256-0.636  c0.016-0.235,0.135-0.447,0.336-0.597l1.397-1.04c0.152-0.114,0.328-0.174,0.51-0.174c0.296,0,0.565,0.16,0.72,0.428l0.384,0.666  c0.243,0.42,0.243,1.077,0,1.498l-0.572,0.991C118.517,573.713,118.283,573.859,118.022,573.859L118.022,573.859z"/> <path class="st1" d="M109.161,574.923c-0.297,0-0.566-0.16-0.721-0.428l-0.84-1.456c-0.243-0.421-0.243-1.076,0-1.499l0.018-0.031  c0.146-0.252,0.379-0.396,0.642-0.396c0.192,0,0.384,0.082,0.538,0.231l1.681,1.632c0.181,0.175,0.271,0.401,0.255,0.636  c-0.015,0.235-0.133,0.447-0.335,0.596l-0.728,0.543C109.519,574.863,109.342,574.923,109.161,574.923L109.161,574.923z"/> <path class="st1" d="M112.042,572.799c-0.286-0.001-0.557-0.105-0.748-0.289l-1.959-1.903c-0.354-0.342-0.442-0.972-0.196-1.397  l0.954-1.65c0.242-0.42,0.812-0.749,1.297-0.749h4.471c0.484,0,1.054,0.329,1.296,0.749l0.232,0.4  c0.25,0.435,0.128,1.031-0.275,1.333l-4.444,3.306C112.496,572.727,112.272,572.799,112.042,572.799L112.042,572.799z   M111.981,568.018c-0.377,0-0.858,0.274-1.049,0.601l-0.405,0.684c-0.183,0.307-0.112,0.773,0.15,1.016l1.052,0.97  c0.136,0.124,0.333,0.197,0.541,0.197c0.176,0,0.342-0.05,0.468-0.147l3.061-2.292c0.297-0.221,0.425-0.544,0.34-0.686  c-0.096-0.16-0.488-0.342-0.898-0.342H111.981z"/> <path class="st1" d="M111.171,577.128c-0.485,0-1.005-0.243-1.184-0.554c-0.192-0.335-0.022-0.834,0.388-1.138l3.774-2.81  c0.174-0.13,0.397-0.198,0.629-0.198c0.284,0,0.556,0.104,0.746,0.288l1.62,1.572c0.354,0.344,0.441,0.971,0.195,1.399l-0.399,0.69  c-0.243,0.42-0.813,0.749-1.297,0.749H111.171z M111.169,576.16c0.095,0.048,0.377,0.113,0.756,0.113h3.076  c0.376,0,0.859-0.272,1.051-0.597l0.032-0.057c0.183-0.307,0.113-0.769-0.151-1.01l-0.777-0.706c-0.137-0.126-0.338-0.2-0.548-0.2  c-0.177,0-0.344,0.051-0.471,0.146l-2.519,1.848C111.349,575.896,111.205,576.079,111.169,576.16z"/></g></svg> mapshakers.com</a> | Â© <a target="_blank" href="http://www.openstreetmap.org/" style="font-size: 1.2em">OpenStreetMap</a> contributors',
            subdomains: ['a','b','c','d'],
            minZoom:1,
            maxZoom:18,
            tms: false,
            tileSize:256,
            detectRetina: false,
            style: 'default',
            size: function(){ return  L.Browser.retina ? 512 : 256 },
            key: 'your-API-key'
        }
    });
    L.tileLayer.mapshakers = function (options) {
        return new L.TileLayer.Mapshakers(options);
    };

}());